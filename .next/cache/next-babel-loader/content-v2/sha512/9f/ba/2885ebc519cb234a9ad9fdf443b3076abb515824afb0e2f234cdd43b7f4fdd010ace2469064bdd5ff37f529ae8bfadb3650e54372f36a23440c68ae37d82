{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useQuery } from '@apollo/client';\nimport gql from 'graphql-tag';\nimport styled from 'styled-components';\nimport { perPage } from '../config';\nexport const ALL_PRODUCTS_QUERY = gql`\n  query ALL_PRODUCTS_QUERY($skip: Int = 0, $first: Int) {\n    allCarpets(first: $first, skip: $skip) {\n      id\n      name\n      address\n      phoneNumber\n      message\n      city\n    }\n  }\n`;\nconst ProductsListStyles = styled.div.withConfig({\n  displayName: \"Products__ProductsListStyles\",\n  componentId: \"sc-1uv5x8m-0\"\n})([\"display:flex;flex-direction:column;.single-carpet{padding:2rem;box-shadow:0px 4px 6px #00000029;margin:2rem 0;font-weight:100;.pointer{cursor:pointer;}}p{margin:2.5rem 0;text-transform:capitalize;border-bottom:1px solid #000;display:flex;justify-content:space-between;span{font-weight:800;margin-right:4rem;&:nth-of-type(2){font-weight:400;margin-right:0;text-align:right;}}}\"]);\nexport default function Products({\n  page\n}) {\n  const {\n    data,\n    error,\n    loading\n  } = useQuery(ALL_PRODUCTS_QUERY, {\n    variables: {\n      skip: page * perPage - perPage,\n      first: perPage\n    }\n  });\n\n  const onAddressClick = address => {\n    window.open(`${'//' + 'google.com/search?q='}${address}`, '_blank');\n  };\n\n  console.log(data);\n  if (loading) return /*#__PURE__*/_jsx(\"p\", {\n    children: \"Loading...\"\n  });\n  if (error) return /*#__PURE__*/_jsxs(\"p\", {\n    children: [\"Error: \", error.message]\n  });\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(ProductsListStyles, {\n      children: data === null || data === void 0 ? void 0 : data.allCarpets.map(carpet => /*#__PURE__*/_jsxs(\"div\", {\n        className: \"single-carpet\",\n        children: [/*#__PURE__*/_jsxs(\"p\", {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Ime:\"\n          }), \" \", /*#__PURE__*/_jsx(\"span\", {\n            children: carpet.name\n          })]\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Adresa: \"\n          }), /*#__PURE__*/_jsxs(\"span\", {\n            className: \"pointer\",\n            onClick: () => onAddressClick(`${carpet.address}, ${carpet.city.toLowerCase()}`),\n            children: [carpet.address, \", \", carpet.city.toLowerCase()]\n          })]\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Tel broj: \"\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: \"pointer\",\n            children: /*#__PURE__*/_jsxs(\"a\", {\n              href: `tel:+386${carpet.phoneNumber}`,\n              children: [\"+386 \", carpet.phoneNumber]\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Poraka: \"\n          }), /*#__PURE__*/_jsx(\"span\", {\n            children: carpet.message\n          })]\n        })]\n      }, carpet.id))\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}